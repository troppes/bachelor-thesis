\chapter{Genauer Vergleich}

In diesem Kapitel werden die vorher ausgewählten Suchmaschinen genauer verglichen. Dafür werden alle vier Suchmaschinen aufgesetzt, um einen Ersteindruck zu erstellen. Da ich dieses Projekt nicht nach meiner Bachelor-Arbeit weiter betreuen kann, ist es auch wichtig zu schauen, wie leicht  es für einen neuen Administrator ist, sich in dieses System einzuarbeiten. Deshalb wird ein besonderes Augenmerk auf die Dokumentation und Oberfläche, insofern vorhanden, gelegt. Die genaueren Kriterien werden nun im Folgenden mit Erklärungen aufgeführt.

\section{Testsystem}
Das Testsystem besitzt die folgende Spezifikationen:

\begin{itemize}
    \item CPU: 4 Kerne
    \item RAM: 16 Gigabyte
    \item Festplattenspeicher: 20 GB
    \item Betriebssystem: Ubuntu 18.04.03 LTS
\end{itemize} 

Auf das System wird zudem die MariaDB Datenbank von Dietrich-Online Projekt als Datenquelle eingespielt. Zudem mussten einige Programme während der Vorbereitung des Servers durch die Administratoren aufgespielt werden. Eine genaue Liste findet sich HIER. Diese Programme werde daher auch als gegeben bewertet. !!TODO!!

vim       - htop       - tmux       - wget       - mc       - git       - aptitude    - ntp  -ufw 

\section{Aufbau der Tests}

\subsection{Installation}

Im ersten Schritt wird die Installation bewertet. Dabei wird geschaut, wie einfach es ist die Software zu installieren. Existiert zum Beispiel ein Installations-Wizard?Wie viel muss manuell in den Dateien geändert werden?

\subsection{Indexierung}

Hierbei wird geschaut, wie einfach die Indexierung von den Daten aus der Datenbank ausfällt. Dabei wird auch geschaut, ob es möglich ist, Daten direkt von der Oberfläche zu indexieren und ob man die Indexierung in einen Zeitplan legen kann.

\subsection{Dokumentation}

Im dritten Schritt wird die Dokumentation analysiert. Hierbei wird das Augenmerk auf die Übersichtlichkeit und Verständlichkeit gelegt. Da in diesen Kurztest nicht alle Bereiche der Dokumentation genau durchgelesen und daraufhin auch Testweise implementiert werden können, werden nur die Seiten, die von Relevanz für die anderen Schritte sind bewertet.

\subsection{Absetzen einer Anfrage und Integration in PHP}

Im letzten Schritt werden eine Query in PHP abgesetzt. Dabei wird die Zeit gemessen, wie lange die Query braucht um die Daten zu liefern.

Die dabei verwendete Query ist die bisher am langsamsten laufenden Query der Dietrich-Online Projektes. Sie ermittelt alle Lemmata vom Buchstaben S und baut alle Daten, die zur Anzeige benötigt werden zusammen \ref{img:lAdminSample}. Die Tabellen die für diese Ansicht gebraucht werden, sind in diesem Diagramm \ref{img:lAdminStructure} zu finden. Um genau zu sein, sind es zwei Querys. Die erste findet alle IDs der Lemmata und der zweite baut auf dieser Liste die Daten zusammen.

\begin{figure}
	\centering
	\includegraphics[width=0.8\linewidth]{images/structure_lemmaadministration.png}
	\caption{Tabellenaufbau der Lemma-Administration Übersicht.}
	\label{img:lAdminStructure}
\end{figure}

\begin{figure}
	\centering
	\includegraphics[width=1\linewidth]{images/lemmaadministration_sample.PNG}
	\caption{Frontend Ansicht der Lemma-Administration mit geladenen Buchstaben S (Ausschnitt).}
	\label{img:lAdminSample}
\end{figure}

\lstset{language=SQL}
\begin{lstlisting}[frame=single] 
    SELECT
    lemma.id
FROM lemma
WHERE
    lemma.bezeichnung LIKE 'S%'
    AND lemma.ist_geloescht = 0
ORDER BY
    lemma.bezeichnung ASC,
    lemma.id ASC;
\end{lstlisting}

Im zweiten Schritt werden dann die gerade geholten ID’s mit vielen JOIN’s für die Darstellung vorbereitet.

\lstset{language=SQL}
\begin{lstlisting}[frame=single] 
SELECT  lemma.id,                        
        [...] #Lemma, GND und DCC-Spalten        
FROM lemma lemma
      
INNER JOIN lemmabearbeitungsstatus lemmaBStatus
ON lemma.fk_lemmabearbeitungsstatus = lemmaBStatus.id

LEFT JOIN lemma_gnd lemma_gnd_map ON lemma.id = lemma_gnd_map.fk_lemma
LEFT JOIN gnd gnd ON lemma_gnd_map.fk_gnd = gnd.id
LEFT JOIN gnd_ddc gnd_ddc_map ON gnd.id = gnd_ddc_map.fk_gnd
LEFT JOIN ddc ddc ON gnd_ddc_map.fk_ddc = ddc.id
WHERE lemma.id IN ([Array of Lemma IDs])
ORDER BY lemma.bezeichnung ASC, lemma.id ASC;

\end{lstlisting}